<VirtualHost *:80>
  ServerAdmin admin@example.org
  DocumentRoot /var/www/modernphp
  ServerName modernphp.local
  ErrorLog /var/log/apache2/modernphp_error.log
  CustomLog /var/log/apache2/modernphp_access.log common
  <FilesMatch \.php$>
    SetHandler "proxy:unix:/var/run/php/php7.4-fpm.sock|fcgi://localhost"
  </FilesMatch>
</VirtualHost>

<VirtualHost *:443>
  ServerAdmin admin@example.org
  DocumentRoot /var/www/modernphp
  ServerName modernphp.local
  SSLEngine on
  SSLCertificateFile /etc/ssl/crt/modernphp.local.crt
  SSLCertificateKeyFile /etc/ssl/crt/modernphp.local.key
  ErrorLog /var/log/apache2/modernphp_error.log
  CustomLog /var/log/apache2/modernphp_access.log common
  <FilesMatch \.php$>
    SetHandler "proxy:unix:/var/run/php/php7.4-fpm.sock|fcgi://localhost"
  </FilesMatch>
</VirtualHost>

<Directory /var/www/modernphp>
  AllowOverride all
</Directory>
